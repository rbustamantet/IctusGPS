<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="theme-color" content="#0f3d83">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, viewport-fit=cover, user-scalable=yes">

<meta name="description" content="Protocolos cl√≠nicos y recursos en la atenci√≥n al paciente con ictus">
<meta name="author" content="Rafael Bustamante Toledo">
<meta name="email" content="correo@rafaelbustamante.com">

<title>Ictus GPS</title>

<script>
  // Mostrar splash solo si es el arranque inicial de la app
  const isAppLaunch = !sessionStorage.getItem('appLaunched');
  sessionStorage.setItem('appLaunched', 'true');

  if (isAppLaunch) {
    window.location.href = 'splash.html';
  } 
  </script>


  <!-- üîπ ICONOS Y MANIFIESTO PWA -->
  <link rel="manifest" href="site.webmanifest">
  <link rel="icon" type="image/png" sizes="192x192" href="iconos/ictusgps.png">
  <link rel="apple-touch-icon" sizes="180x180" href="iconos/ictusgps.png">
  <link rel="shortcut icon" href="iconos/ictusgps.png">
  <meta name="theme-color" content="#0f3d83">

<style>
  :root{
    --bg:#0f3d83;
    --ink:#e6ecf5;
    --muted:#c7d5ec;
    --card:#174c9c;
    --card-hover:#1a56ad;
    --shadow:0 10px 24px rgba(0,0,0,.35);
    --radius:20px;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: Verdana, Geneva, Tahoma, sans-serif;
    background-color: var(--bg);
    color: var(--ink);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    min-height:100vh;
    text-align:center;
    overflow-x:hidden;
  }
body {
    display: flex; /* Habilitar flexbox */
    flex-direction: column; /* Apilar elementos verticalmente */
    min-height: 100vh; /* Asegurar que el body ocupe al menos el 100% de la altura de la ventana */
    margin: 0; /* Quitar m√°rgenes por defecto del body */
}
.main-content {
    /* Esto hace que el contenido ocupe todo el espacio sobrante */
    flex-grow: 1; 
}
  /* Animaciones */
  @keyframes fadeUp {
    0% {opacity:0; transform: translateY(25px);}
    100% {opacity:1; transform: translateY(0);}
  }
  @keyframes fadeDown {
    0% {opacity:0; transform: translateY(-25px);}
    100% {opacity:1; transform: translateY(0);}
  }

@keyframes radialShock {
  0% {
    opacity:0;
    transform: scale(.1);
    box-shadow: 0 0 0 0 rgba(127,179,255,0.7), inset 0 0 0 0 rgba(127,179,255,0.6);
  }
  30% {
    opacity:1;
    transform: scale(1.25);
    box-shadow: 0 0 40px 25px rgba(127,179,255,0), inset 0 0 20px 4px rgba(127,179,255,0.35);
  }
  100% {
    opacity:1; 
    transform: scale(1);
    box-shadow: var(--shadow);
  }
}



/* üì∫ Animaci√≥n estilo encendido de TV */
@keyframes tvOn {
  0% {
    opacity: .1;
    transform: scaleY(0.02) scaleX(1.4);
    filter: brightness(500%);
  }
  80% {
    opacity: .5;
    transform: scaleY(0.05) scaleX(1.1);
    filter: brightness(350%);
  }
  90% {
    transform: scaleY(.25) scaleX(1);
    filter: brightness(200%);
  }
  100% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
    filter: brightness(100%);
  }
}

/* üì∫ Animaci√≥n para el texto (m√°s contenida) */
@keyframes tvOnText {
  0% {
    opacity: 0;
    transform: scaleY(0.2) scaleX(1.3);
    filter: blur(4px);
  }
  40% {
    opacity: 1;
    transform: scaleY(0.75) scaleX(1.05);
  }
  100% {
    opacity: 1;
    transform: scaleY(1) scaleX(1);
    filter: blur(0);
  }
}

  header{
    width:100%;
    padding:12px 0 12px;
    display:flex;
    justify-content:center;
    align-items:center;
    animation: fadeDown 1s ease-out;
  }
  header img{
    margin:28px;
    max-width:480px;
    width:90%;
    height:auto;
    border-radius:24px;
    box-shadow: 0 8px 20px rgba(0,0,0,.25), 0 3px 6px rgba(0,0,0,.1);
backdrop-filter: blur(12px) saturate(1.2);
background: rgba(255,255,255,.08);
background: linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.1) 50%, rgba(255,255,255,0) 100%);
background-size: 200% 100%;
animation: shine 3s linear infinite;
@keyframes shine {
  from { background-position: -200% 0; }
  to { background-position: 200% 0; }
}
  }

  h1{
    font-size:1.8rem;
    font-weight:700;
    margin:14px 0 8px;
    letter-spacing:.4px;
  }
  p.subtitle{
    color:var(--muted);
    font-size:0.95rem;
    margin-bottom:28px;  }

  /* CONTENEDOR DEL MEN√ö DE ICONOS */
  .menu {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;   /* centra las filas incompletas */
  align-items: center;
  gap: 28px;
  width: 90%;
  max-width: 700px;
  margin: 0 auto 40px;}


  .icon-btn{
    display:flex;
    flex-direction:column;
    align-items:center;
    flex: 0 0 calc(50% - 28px); /* 3 por fila menos el gap */
    max-width: calc(50% - 28px);
    text-decoration:none;
    color:var(--ink);
    transition:transform .15s ease, box-shadow .15s ease, background .2s ease;  }

/* A partir de 400px ‚Üí 3 por fila */
@media (min-width: 400px) {
  .menu .icon-btn {
    flex: 0 0 calc(33.33% - 28px);
    max-width: calc(33.33% - 28px);
  }
}

.icon-circle{
    width:100px;
    height:100px;
    border-radius:50%;
    background:linear-gradient(160deg,var(--card),#0e3a7e);
    box-shadow: var(--shadow);
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:10px;
    border:1px solid rgba(255,255,255,.12);

    opacity:0;
    transform: scaleY(0.02);
  animation: radialShock .85s ease-out forwards;
}

/* Retraso escalonado para dar efecto de encendido progresivo */
.icon-btn:nth-child(1) .icon-circle { animation-delay: .45s; }
.icon-btn:nth-child(2) .icon-circle { animation-delay: .60s; }
.icon-btn:nth-child(3) .icon-circle { animation-delay: .75s; }
.icon-btn:nth-child(4) .icon-circle { animation-delay: .90s; }
.icon-btn:nth-child(5) .icon-circle { animation-delay: 1.05s; }
 
 .icon-btn:hover .icon-circle img {
  filter: drop-shadow(0 0 30px rgba(127,179,255,0.9));
}


  .icon-circle svg, .icon-circle img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;  /* Rellena completamente el c√≠rculo */
  display: block;
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.2)); /* halo sutil */
}

/* Etiquetas con animaci√≥n tipo TV */
.label{
    font-size:0.9rem;
    font-weight:600;
    letter-spacing:.3px;
    opacity:0;
    animation: tvOnText .55s cubic-bezier(.2,.65,.3,1) forwards;
}

/* Mismo retraso escalonado para el texto */
.icon-btn:nth-child(1) .label { animation-delay: .65s; }
.icon-btn:nth-child(2) .label { animation-delay: .80s; }
.icon-btn:nth-child(3) .label { animation-delay: .95s; }
.icon-btn:nth-child(4) .label { animation-delay: 1.10s; }
.icon-btn:nth-child(5) .label { animation-delay: 1.25s; }

/* Pie */
footer {
    /* Quitamos todas las propiedades de posici√≥n que ten√≠as */
    /* position: relative; left: 50%; transform: translateX(-50%); */
    
    /* Mantenemos tus estilos de apariencia */
    width: 100%; /* Cambiado a 100% en lugar de 100vw para ser m√°s flexible */
    padding: .5rem 0;
    border-top: .3px solid #174c9c;
    background: #0f3d83;
    text-align: center;
    box-shadow: 0 -6px 10px rgba(0,0,0,0.04);
}
footer img{
  max-width:250px;
  height:auto;
  opacity:.96;
}

/* ============================================================
   EFECTO 3 ‚Äî Ping en el punto rojo del cerebro
   ============================================================ */

/* Contenedor del logo para poder colocar el destello */
.logo-wrapper {
  position: relative;
  display: inline-block;
}

/* Destello sobre el pin rojo */
.pin-ping {
  position: absolute;
  width: 12px;
  height: 12px;
  background: #ff2b4f;
  border-radius: 50%;
  pointer-events: none;
  box-shadow: 0 0 6px rgba(255, 60, 80, 0.9);

  /* üîπ POSICI√ìN AJUSTADA A TU IMAGEN "inicio.png" */
  top: 55%;   
  left: 30%;  
  transform: translate(-50%, -50%);

  animation: pingPulse 3s infinite ease-out;
}

/* Onda expansiva */
@keyframes pingPulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  35% {
    transform: translate(-50%, -50%) scale(3.7);
    opacity: 0.55;
  }
  70% {
    transform: translate(-50%, -50%) scale(6);
    opacity: 0.15;
  }
  100% {
    opacity: 0;
  }
}
.logo-ictusgps {
  box-shadow:
    0 0 12px rgba(255,255,255,0.15),
    0 8px 20px rgba(0,0,0,0.25);
}
.exit-btn {
  position: absolute;
  top: 31px;
  right: 31px;
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 50%;
  background: rgba(255, 40, 40, 0.20);
  color: white;
  font-size: 1.6rem;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 99;
  transition: transform 0.15s ease, background 0.2s ease;
}

.exit-btn:hover {
  transform: scale(1.08);
  background: rgba(255, 60, 60, 1);
}

/* üîí Bloqueo total del scroll en esta p√°gina */
html, body {
  overflow: hidden !important; 
  height: 100vh;
  width: 100vw;
  position: fixed;
  top: 0;
  left: 0;
}

</style>
</head>
<body>

<header>
  <div class="logo-wrapper">
    <img src="img/inicio.png" alt="IctusGPS" class="logo-ictusgps">
    <button class="exit-btn" onclick="exitApp()"><svg viewBox="0 0 24 24" width="30" height="30" fill="none" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
  <circle cx="12" cy="12" r="9" stroke-opacity="0.35"/>
  <line x1="12" y1="5" x2="12" y2="13" />
</svg>

</button>
    <span class="pin-ping"></span>
  </div>
</header>
<div class="main-content">
  <main class="menu">

    <a class="icon-btn" href="unidad/index.html">
  <div class="icon-circle">
    <img src="iconos/unidadesico.png" alt="Unidades de Ictus">
  </div>
<span class="label">Unidades</br>de Ictus</span>
</a>


    <a class="icon-btn" href="protocolos/index.html">
  <div class="icon-circle">
    <img src="iconos/protocolosico.png" alt="Protocolos">
  </div>
  <span class="label">Protocolos</br>de cuidados</span>
</a>

    <a class="icon-btn" href="escalas/index.html">
  <div class="icon-circle">
    <img src="iconos/escalasico.png" alt="Escalas">
  </div>
  <span class="label">Escalas</br>m√°s usadas</span>
</a>

    <a class="icon-btn" href="utilidades/index.html">
  <div class="icon-circle">
    <img src="iconos/utilidadesico.png" alt="Utilidades">
  </div>
  <span class="label">Utilidades</br>cl√≠nicas</span>
</a>

    <a class="icon-btn" href="informacion/index.html">
  <div class="icon-circle">
    <img src="iconos/informacionico.png" alt="Informaci√≥n">
  </div>
  <span class="label">Informaci√≥n</br>de inter√©s</span>
</a>

  </main>
</div>
<footer>
  <img src="img/pie.png" alt="Firma">
</footer>
<script src="js/index.js"></script>

<script>
function exitApp() {

  // üîπ 1) ANDROID nativo (Capacitor)
  try {
    if (
      window.Capacitor &&
      typeof window.Capacitor.isNativePlatform === 'function' &&
      window.Capacitor.isNativePlatform() &&
      window.Capacitor.Plugins &&
      window.Capacitor.Plugins.App &&
      typeof window.Capacitor.Plugins.App.exitApp === 'function'
    ) {
      // Cierra la app Android
      window.Capacitor.Plugins.App.exitApp();
      return;
    }
  } catch (e) {
    console.log('Error al intentar cerrar con Capacitor App:', e);
  }

  // üîπ 2) Fallback WEB ‚Üí animaci√≥n de apagado
  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.top = "0";
  overlay.style.left = "0";
  overlay.style.width = "100%";
  overlay.style.height = "100%";
  overlay.style.background = "#0f3d83";
  overlay.style.zIndex = "9999";
  overlay.style.opacity = "0";
  overlay.style.transition = "opacity 0.8s ease";
  document.body.appendChild(overlay);

  requestAnimationFrame(() => {
    overlay.style.opacity = "1";
  });

  setTimeout(() => {
    document.body.innerHTML = `
      <div style="
        display:flex;
        justify-content:center;
        align-items:center;
        height:100vh;
        background:#0f3d83;
      ">
        <svg viewBox="0 0 24 24" width="90" height="90"
             fill="none" stroke="white" stroke-width="2.5"
             stroke-linecap="round" stroke-linejoin="round"
             style="filter: drop-shadow(0 0 12px rgba(255,255,255,0.45));
                    animation: powerPulse 1.3s ease-out;">
          <line x1="12" y1="3" x2="12" y2="12" />
          <path d="M6.2 7a7 7 0 1 0 11.6 0" />
        </svg>

        <style>
          @keyframes powerPulse {
            0%   { transform: scale(0.8); opacity: 0; }
            50%  { transform: scale(1.15); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
          }
        </style>
      </div>
    `;
  }, 900);

  setTimeout(() => {
    overlay.style.background = "#000";
    overlay.style.opacity = "0";
    overlay.style.transition = "opacity 1.4s ease";
  }, 1500);

  setTimeout(() => {
    window.open('', '_self').close();
  }, 3200);
}
</script>

<div id="rotate-lock" style="
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: #0f3d83;
  color: white;
  font-family: Verdana, sans-serif;
  display: none;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 20px;
  z-index: 999999;
">
  <div>
    <svg width="70" height="70" viewBox="0 0 24 24" fill="none"
         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
         style="margin-bottom:14px; opacity:0.9">
      <rect x="3" y="4" width="18" height="14" rx="2"/>
      <line x1="3" y1="10" x2="21" y2="10"/>
    </svg>
    <p style="font-size:1.1rem; line-height:1.4">
      La pantalla de inicio no permite el modo horizontal.<br>S√≠ puede usarse en el resto de la app.<br>Gire el dispositivo a modo vertical.
    </p>
  </div>
</div>

<script>
/* üîÑ Bloqueo de rotaci√≥n: muestra overlay si est√° en horizontal */
function checkOrientation() {
  const lock = document.getElementById("rotate-lock");

  if (window.matchMedia("(orientation: landscape)").matches &&
      window.innerWidth < 900) {
    lock.style.display = "flex";
  } else {
    lock.style.display = "none";
  }
}

window.addEventListener("orientationchange", checkOrientation);
window.addEventListener("resize", checkOrientation);
document.addEventListener("DOMContentLoaded", checkOrientation);
</script>

</body>
</html>
