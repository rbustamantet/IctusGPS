<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="theme-color" content="#0f3d83">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, viewport-fit=cover, user-scalable=yes">

<meta name="description" content="Protocolos cl√≠nicos y recursos en la atenci√≥n al paciente con ictus">
<meta name="author" content="Rafael Bustamante Toledo">
<meta name="email" content="correo@rafaelbustamante.com">

<title>Ictus GPS</title>

<script>
  // Mostrar splash solo si es el arranque inicial de la app
  const isAppLaunch = !sessionStorage.getItem('appLaunched');
  sessionStorage.setItem('appLaunched', 'true');

  if (isAppLaunch) {
    window.location.href = 'splash.html';
  } 
  </script>



  <!-- üîπ ICONOS Y MANIFIESTO PWA -->
  <link rel="manifest" href="site.webmanifest">
  <link rel="icon" type="image/png" sizes="192x192" href="iconos/ictusgps.png">
  <link rel="apple-touch-icon" sizes="180x180" href="iconos/ictusgps.png">
  <link rel="shortcut icon" href="iconos/ictusgps.png">
  <meta name="theme-color" content="#0f3d83">

<style>
  :root{
    --bg:#0f3d83;
    --ink:#e6ecf5;
    --muted:#c7d5ec;
    --card:#174c9c;
    --card-hover:#1a56ad;
    --shadow:0 10px 24px rgba(0,0,0,.35);
    --radius:20px;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: Verdana, Geneva, Tahoma, sans-serif;
    background-color: var(--bg);
    color: var(--ink);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    min-height:100vh;
    text-align:center;
    overflow-x:hidden;
  }
body {
    display: flex; /* Habilitar flexbox */
    flex-direction: column; /* Apilar elementos verticalmente */
    min-height: 100vh; /* Asegurar que el body ocupe al menos el 100% de la altura de la ventana */
    margin: 0; /* Quitar m√°rgenes por defecto del body */
}
.main-content {
    /* Esto hace que el contenido ocupe todo el espacio sobrante */
    flex-grow: 1; 
}
  /* Animaciones */
  @keyframes fadeUp {
    0% {opacity:0; transform: translateY(25px);}
    100% {opacity:1; transform: translateY(0);}
  }
  @keyframes fadeDown {
    0% {opacity:0; transform: translateY(-25px);}
    100% {opacity:1; transform: translateY(0);}
  }

  header{
    width:100%;
    padding:32px 0 12px;
    display:flex;
    justify-content:center;
    align-items:center;
    animation: fadeDown 1s ease-out;
  }
header img{
    margin:28px;
    max-width:480px;
    width:90%;
    height:auto;
    border-radius:12px;
    backdrop-filter: blur(12px) saturate(.5);
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,0) 100%);
    background-size: 200% 100%;
}



  h1{
    font-size:1.8rem;
    font-weight:700;
    margin:14px 0 8px;
    letter-spacing:.4px;
    animation: fadeUp 1s ease-out .2s both;
  }
  p.subtitle{
    color:var(--muted);
    font-size:0.95rem;
    margin-bottom:28px;
    animation: fadeUp 1s ease-out .4s both;
  }

  /* CONTENEDOR DEL MEN√ö DE ICONOS */
  .menu {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;   /* centra las filas incompletas */
  align-items: center;
  gap: 28px;
  width: 90%;
  max-width: 700px;
  margin: 0 auto 40px;
  animation: fadeUp 1s ease-out .6s both;
}


  .icon-btn{
    display:flex;
    flex-direction:column;
    align-items:center;
    text-decoration:none;
    color:var(--ink);
    transition:transform .15s ease, box-shadow .15s ease, background .2s ease;
  }

  .icon-circle{
    width:100px;
    height:100px;
    border-radius:50%;
    background:linear-gradient(160deg,var(--card),#0e3a7e);
    box-shadow: var(--shadow);
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:10px;
    border:1px solid rgba(255,255,255,.12);
    opacity:0;
    transform: translateY(20px);
    animation: fadeUp .8s ease-out forwards;
  }

  /* Retraso escalonado para cada icono */
  .icon-btn:nth-child(1) .icon-circle{ animation-delay:.6s; }
  .icon-btn:nth-child(2) .icon-circle{ animation-delay:.8s; }
  .icon-btn:nth-child(3) .icon-circle{ animation-delay:1s; }
  .icon-btn:nth-child(4) .icon-circle{ animation-delay:1.2s; }
  .icon-btn:nth-child(5) .icon-circle{ animation-delay:1.4s; }

  .icon-btn:hover .icon-circle img {
  filter: drop-shadow(0 0 10px rgba(127,179,255,0.5));
}


  .icon-circle svg, .icon-circle img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;  /* Rellena completamente el c√≠rculo */
  display: block;
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.2)); /* halo sutil */
}

  .label{
    font-size:0.9rem;
    font-weight:600;
    letter-spacing:.3px;
  }

/* Pie */
footer {
    /* Quitamos todas las propiedades de posici√≥n que ten√≠as */
    /* position: relative; left: 50%; transform: translateX(-50%); */
    
    /* Mantenemos tus estilos de apariencia */
    width: 100%; /* Cambiado a 100% en lugar de 100vw para ser m√°s flexible */
    padding: .5rem 0;
    border-top: 1px solid #e5e7eb;
    background: #0f3d83;
    text-align: center;
    box-shadow: 0 -2px 6px rgba(0,0,0,0.04);
}
footer img{
  max-width:250px;
  height:auto;
  opacity:.96;
}


/* ============================================================
   EFECTO 3 ‚Äî Ping en el punto rojo del cerebro
   ============================================================ */

/* Contenedor del logo para poder colocar el destello */
.logo-wrapper {
  position: relative;
  display: inline-block;
}

/* Destello sobre el pin rojo */
.pin-ping {
  position: absolute;
  width: 12px;
  height: 12px;
  background: #ff2b4f;
  border-radius: 50%;
  pointer-events: none;
  box-shadow: 0 0 6px rgba(255, 60, 80, 0.9);

  /* üîπ POSICI√ìN AJUSTADA A TU IMAGEN "inicio.png" */
  top: 55%;   
  left: 30%;  
  transform: translate(-50%, -50%);

  animation: pingPulse 3s infinite ease-out;
}

/* Onda expansiva */
@keyframes pingPulse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  35% {
    transform: translate(-50%, -50%) scale(3.7);
    opacity: 0.55;
  }
  70% {
    transform: translate(-50%, -50%) scale(6);
    opacity: 0.15;
  }
  100% {
    opacity: 0;
  }
}
/* ============================================================
   EFECTO ‚Äî Sombra din√°mica (oscilaci√≥n suave 3D)
   ============================================================ */

</style>
</head>
<body>

<header>
  <div class="logo-wrapper">
    <img src="img/inicio.png" alt="IctusGPS" class="logo-ictusgps">
    <span class="pin-ping"></span>
  </div>
</header>

<div class="main-content">
  <main class="menu">

    <a class="icon-btn" href="unidad/index.html">
  <div class="icon-circle">
    <img src="iconos/unidadesico.png" alt="Nuestra Unidad">
  </div>
<span class="label">Nuestra&nbsp;Unidad</span>
</a>


    <a class="icon-btn" href="protocolos/index.html">
  <div class="icon-circle">
    <img src="iconos/protocolosico.png" alt="Protocolos">
  </div>
  <span class="label">Protocolos</span>
</a>

    <a class="icon-btn" href="escalas/index.html">
  <div class="icon-circle">
    <img src="iconos/escalasico.png" alt="Escalas">
  </div>
  <span class="label">Escalas</span>
</a>

    <a class="icon-btn" href="utilidades/index.html">
  <div class="icon-circle">
    <img src="iconos/utilidadesico.png" alt="Utilidades">
  </div>
  <span class="label">Utilidades</span>
</a>

    <a class="icon-btn" href="informacion/index.html">
  <div class="icon-circle">
    <img src="iconos/informacionico.png" alt="Informaci√≥n">
  </div>
  <span class="label">Informaci√≥n</span>
</a>

  </main>
</div>
<footer>
  <img src="img/pie.png" alt="Firma">
</footer>
<script src="js/index.js"></script>
<script>
/* üîπ Inserta index.css autom√°ticamente en todas las vistas cargadas */
(function() {
  const cssPath = 'css/index.css';
  const head = document.head || document.getElementsByTagName('head')[0];
  if (![...document.styleSheets].some(s => s.href && s.href.includes(cssPath))) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = cssPath;
    head.appendChild(link);
  }
})();

import { App } from '@capacitor/app';

// Aseg√∫rate de que este c√≥digo solo se ejecute en el entorno Capacitor/Android
if (window.Capacitor && window.Capacitor.isNativePlatform()) {
  App.addListener('backButton', ({ canGoBack }) => {
    // Si el historial del navegador no puede ir m√°s atr√°s (es decir, estamos en la p√°gina inicial)
    if (!canGoBack || window.location.pathname.endsWith('/index.html')) {
      // Cierra la aplicaci√≥n de Android
      App.exitApp();
    } else {
      // Si hay historial, permite la navegaci√≥n normal hacia atr√°s
      window.history.back();
    }
  });
}
</script>
</body>
</html>
