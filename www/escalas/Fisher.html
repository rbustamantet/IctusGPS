<!DOCTYPE html>
<html lang="es">
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="../site.webmanifest">
    <link rel="icon" type="image/png" sizes="192x192"
      href="../iconos/ictusgps.png">
    <link rel="apple-touch-icon" sizes="180x180"
      href="../iconos/ictusgps.png">
    <link rel="shortcut icon" href="../iconos/ictusgps.png">
    <meta name="theme-color" content="#0f3d83">
    <title>Escala de Fisher â€” Hemorragia Subaracnoidea</title>
    <style>
:root{
  --bg:#f9fafc;--ink:#0e1a33;--accent:#0f3d83;
  --border:#e5e9f2;--muted:#64748b;
  --ok-bg:#dcfce7;--ok-txt:#065f46;--ok-bd:#86efac;
  --mid-bg:#fef3c7;--mid-txt:#92400e;--mid-bd:#fde68a;
  --bad-bg:#fee2e2;--bad-txt:#991b1b;--bad-bd:#fecaca;
}
:root{
  --bg:#f9fafc;
  --ink:#0e1a33;
  --accent-dark:#0f3d83;
  --accent-light:#2563eb;
  --border:#e5e9f2;
  --muted:#64748b;
  --ok:#166534; --ok-bg:#e9fce7; --ok-ring:#bbf7d0;
  --mid:#92400e; --mid-bg:#fff7ed; --mid-ring:#fed7aa;
  --bad:#991b1b; --bad-bg:#fef2f2; --bad-ring:#fecaca;
  --azul-institucional:#0f3d83;
}

*{box-sizing:border-box}


/* =========================================================
   SAFE-TOP
========================================================= */
.safe-top {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: calc(env(safe-area-inset-top, 0px) + 60px);
  background: var(--azul-institucional);
  z-index: 1001;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding-top: env(safe-area-inset-top, 0px);
}
.safe-content {
  width: 100%;
  max-width: 1080px;
  padding: 6px 16px 8px;
  display: flex;
  justify-content: space-between;
  align-items: flex-start; 
  /* AÃ±adir un padding-top para empujar los iconos ligeramente hacia abajo y no pegarlos al borde */
  padding-top: 5px; /* Ajuste manual para bajar los iconos un poco */
  padding-bottom: 0; /* Eliminar padding inferior para reservar ese espacio */
}
.safe-left {
  display: flex;
  align-items: center;
  gap: 10px;
}
.safe-mini {
  width: 44px;
  height: 44px;
  object-fit: contain;
  padding: 4px;
  box-shadow: 0 0 4px rgba(0,0,0,0.1);
}
.safe-logo {
  height: 44px;
  width: auto;
}
.safe-actions {
  display: flex;
  gap: 10px;
}
.safe-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255,255,255,0.15);
  border: 1px solid white;
  border-radius: 50%;
  transition: background .25s, border-color .25s, transform .1s;
}
.safe-btn:hover {
  background: #01c5fe;
  border: 1px solid white;
}
.safe-btn:active { transform: scale(0.95); }
.safe-icon {
  width: 32px;
  height: 32px;
  object-fit: contain;
}

/* CABECERA */
header{position:sticky;
  z-index:1002;background:var(--accent);color:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,.08);top: calc(env(safe-area-inset-top, 0px) + 52px);
}
.bar{display:flex;justify-content:center;align-items:center;gap:10px;
  height:52px;padding:0 0px;}
.bar h1{font-size:1.4rem;font-weight:700;margin:0;}
/* =========================================================
   CABECERA
========================================================= */
/* ... (reglas existentes) ... */
.bar {
  display:flex;
  justify-content:center;
  align-items:center;
  gap: 10px;
  height:52px;
  padding:4px 16px;
}

.bar h1 {
  display: flex; /* <-- NUEVO: Habilita flexbox para alinear el icono */
  align-items: center; /* <-- NUEVO: Centra el icono y el texto verticalmente */
  /* ... (otras reglas de title) ... */
}
.bar h1 img {
  width: 32px; /* Define el tamaÃ±o del icono */
  height: 32px;
  margin-right: 8px; /* Espacio entre el icono y el texto "ABCDÂ²" */
}
.pill{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:38px; height:25px; padding:6px 10px;
  border-radius:999px; font-size:13px; font-weight:700;
  border:1px solid transparent; background:#dbeafe; color:#1e3a8a;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.pill-ok{background:#dcfce7;color:#065f46;border-color:#86efac;}
.pill-warn{background:#fef3c7;color:#92400e;border-color:#fde68a;}
.pill-bad{background:#fee2e2;color:#991b1b;border-color:#fecaca;}
.pill-neutral{background:#e2e8f0;color:#1e293b;border-color:#cbd5e1;}

/* INTRO */
.howto{
  background:#fff;
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:0 2px 2px var(--muted);
  padding:.5rem;
  margin:.5rem 0 1rem;
  font-size:14px;
}
/* === CONTENIDO === */
body{margin:0;background:var(--bg);color:var(--ink);font-family:Verdana, Geneva, sans-serif;}
.wrap{max-width:980px;margin:16px auto 48px;padding:2px 16px;}
.panel{background:#fff;border:1px solid var(--borde);border-radius:16px;padding:16px;box-shadow:0 2px 10px rgba(15,23,42,.06);}
label{font-weight:900;color:#0b1f44;margin-top:8px;display:block;}
select{width:100%;padding:10px 12px;border:1px solid #cbd5e1;border-radius:10px;background:#fff;font-size:14px;}
select:focus{outline:none;box-shadow:0 0 0 3px #dbeafe;}
.note{color:#64748b;font-size:12px;margin-top:8px;}
.grid{display:grid;gap:10px;}
@media(min-width:720px){.grid{grid-template-columns:1fr 1fr;}}

/* === RESULTADOS === */
.box{border:1.5px dashed #c7dbff;border-radius:14px;padding:14px;background:#f8fbff;margin-top:12px;}
.ttl{font-size:14px;color:#334155;font-weight:800;margin-bottom:4px;}
.val{font-size:24px;font-weight:900;color:#0b2c5f;}
.ok{background:var(--ok-bg);border-color:var(--ok-ring);}
.warn{background:var(--mid-bg);border-color:var(--mid-ring);}
.bad{background:var(--bad-bg);border-color:var(--bad-ring);}
.ok .val{color:var(--ok)} .warn .val{color:var(--mid)} .bad .val{color:var(--bad)}
/* PÃ­ldora â€œneutraâ€ al iniciar (guion) */
.pill-neutral{
  background:#e2e8f0; color:#1e293b; border-color:#cbd5e1;
}
/* === BOTONES === */
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px;}
.btn-action{
  flex:1 1 48%;border:none;border-radius:10px;padding:12px;
  font-size:15px;font-weight:700;cursor:pointer;transition:background .2s;
}
.btn-clear {background:#fff; color:#0b2c5f; border:1px solid #2563eb;}
.btn-clear:hover {background:#eff6ff;}
.btn-copy {background:#fff; color:#0f3d83; border:1px solid #2563eb; }
.btn-copy:hover {background:#eff6ff;}

.btn-copy.copiado{background:#0f3d83!important;color:#fff!important;}

/* === RESUMEN === */
#resumenText{
  white-space:pre-wrap;font-size:13px;color:#0f172a;margin-top:12px;
  border:1px dashed var(--borde);border-radius:10px;padding:10px 12px;
  background:#f8fafc;line-height:1.45;
}

/* Pie */
footer{
  width:100%;
  margin:2rem 0 0;
  padding:1.5rem 0;
  border-top:1px solid #e5e7eb;
  background:#ffffff;
  text-align:center;
  box-shadow:0 -2px 6px rgba(0,0,0,0.04);
}
footer img{max-width:320px;height:auto;opacity:.95}
/* =========================================================
   PADDING SUPERIOR DEL CONTENIDO
========================================================= */

/* Empuja el contenido real por debajo de la barra superior */
body {
  margin: 0;
  padding-top: calc(env(safe-area-inset-top, 0px) + 52px);
  background-color: #fff;

}@media(max-width:768px){
  header{font-size:1.05rem;}
  main{padding:0.9rem 1rem;}
  body{font-size:0.96rem;}
}

</style>
  </head>
  <body>
    <div class="safe-top">
      <div class="safe-content">
        <div class="safe-left"> <img src="../iconos/escalasico.png"
            alt="Icono Escalas" class="safe-mini"> <img
            src="../img/topbar.png" alt="IctusGPS" class="safe-logo"> </div>
        <div class="safe-actions"> <a href="javascript:history.back()"
            class="safe-btn"><img src="../iconos/atrastransparente.png"
              class="safe-icon" alt="AtrÃ¡s"></a> <a
            href="../index.html" class="safe-btn"><img
              src="../iconos/hometransparente.png" class="safe-icon"
              alt="Inicio"></a> </div>
      </div>
    </div>
    <header>
      <div class="bar">
        <h1><img src="../iconos/fisher.png" alt="Fisher">Fisher</h1>
        <output id="pill" class="pill pill-neutral" aria-live="polite">â€”</output>
      </div>
    </header>
    <main class="wrap">
      <div class="howto" align="justify">EvalÃºa la <b>cantidad de
          sangre</b> en el espacio subaracnoideo en la TC inicial tras
        una hemorragia subaracnoidea aneurismÃ¡tica. La puntuaciÃ³n (0â€“4)
        se correlaciona con el <b>riesgo de desarrollar vasoespasmo
          sintomÃ¡tico</b> y ayuda a guiar el manejo clÃ­nico.</div>
      <section class="panel">
        <p class="note">ClasificaciÃ³n tomogrÃ¡fica de hemorragia
          subaracnoidea segÃºn Fisher (1980).</p>
        <div class="grid">
          <div><label for="cisternal">Sangre cisternal visible</label>
            <select id="cisternal">
              <option value="" selected="selected">â€” Seleccione â€”</option>
              <option value="no">No</option>
              <option value="si">SÃ­</option>
            </select>
          </div>
          <div><label for="espesor">Espesor mÃ¡x. cisternal</label>
            <select id="espesor">
              <option value="" selected="selected">â€” Seleccione â€”</option>
              <option value="sin">Sin sangre</option>
              <option value="lt1">&lt; 1 mm</option>
              <option value="gt1">&gt; 1 mm</option>
            </select>
          </div>
          <div><label for="coagulos">CoÃ¡gulos cisternales</label>
            <select id="coagulos">
              <option value="" selected="selected">â€” Seleccione â€”</option>
              <option value="no">No</option>
              <option value="si">SÃ­</option>
            </select>
          </div>
          <div><label for="ivhich">HIV o HIP asociada</label>
            <select id="ivhich">
              <option value="" selected="selected">â€” Seleccione â€”</option>
              <option value="no">No</option>
              <option value="si">SÃ­</option>
            </select>
          </div>
        </div>
        <div class="box" id="resultBox">
          <div class="ttl">Resultado</div>
          <div class="val" id="gradoVal">â€”</div>
          <div class="mini" id="descVal">â€”</div>
        </div>
        <div class="actions"> <button id="btnClear" class="btn-action
            btn-clear">Borrar</button> <button id="btnCopy"
            class="btn-action btn-copy">Copiar resumen</button> </div>
        <div id="resumenText"></div>
      </section>
    </main>
    <script>
const descripciones = {
  I: {
    t: 'Sin sangre visible en cisternas o surcos.',
    r: 'Bajo riesgo de vasoespasmo.'
  },
  II: {
    t: 'Capa fina de sangre difusa (<1 mm).',
    r: 'Riesgo intermedio-bajo de vasoespasmo.'
  },
  III: {
    t: 'CoÃ¡gulos localizados o capa de sangre >1 mm.',
    r: 'Alto riesgo de vasoespasmo y deterioro tardÃ­o.',
    nota: 'Nota: el riesgo mÃ¡ximo de vasoespasmo se asocia al grado III de Fisher.'
  },
  IV: {
    t: 'Hemorragia intraventricular (HIV) o intraparenquimatosa (HIP) con o sin HSA difusa.',
    r: 'Riesgo intermedio-alto, variable segÃºn extensiÃ³n.',
    nota: 'Nota: en el grado IV el riesgo de vasoespasmo depende de la extensiÃ³n de la hemorragia intraventricular.'
  }
};

function tone(grado) {
  if (grado === 'I') return 'ok';
  if (grado === 'II') return 'warn';
  return 'bad';
}

function calc() {
  const c = document.getElementById('cisternal').value;
  const e = document.getElementById('espesor').value;
  const g = document.getElementById('coagulos').value;
  const i = document.getElementById('ivhich').value;

  const box = document.getElementById('resultBox');
  const val = document.getElementById('gradoVal');
  const desc = document.getElementById('descVal');
  const pill = document.getElementById('pill');
  const res = document.getElementById('resumenText');

  if (!c || !e || !g || !i) {
    val.textContent = 'â€”';
    desc.innerHTML = 'â€”';
    res.textContent = '';
    pill.textContent = 'â€”';
    box.className = 'box';
    return;
  }

  let grado = 'I';
  if (i === 'si') grado = 'IV';
  else if (g === 'si' || e === 'gt1') grado = 'III';
  else if (c === 'si' && e === 'lt1') grado = 'II';

  const t = descripciones[grado];
  let textoHTML = `${t.t} ${t.r}`;
  if (t.nota) {
    textoHTML += `<div style="font-size:12px; font-weight:700; margin-top:6px;">${t.nota}</div>`;
  }

  val.textContent = 'Fisher ' + grado;
  desc.innerHTML = textoHTML;

  box.className = 'box ' + tone(grado);
  pill.className = 'pill pill-' + tone(grado);
  pill.textContent = grado;

  // === Resumen clÃ­nico ===
  let resumen = `Escala de Fisher: grado ${grado}.\n${t.t} ${t.r}\n`;
  if (t.nota) resumen += t.nota + '\n';
  if (grado === 'I') resumen += 'Paciente con bajo riesgo de vasoespasmo.';
  else if (grado === 'II') resumen += 'Riesgo intermedio-bajo, requiere vigilancia estÃ¡ndar.';
  else if (grado === 'III') resumen += 'Riesgo elevado de vasoespasmo, vigilancia intensiva y control de HSA.';
  else resumen += 'Riesgo intermedio-alto, manejo segÃºn extensiÃ³n y evoluciÃ³n clÃ­nica.';
  res.textContent = resumen;
}

function borrar() {
  ['cisternal', 'espesor', 'coagulos', 'ivhich'].forEach(id => document.getElementById(id).selectedIndex = 0);
  calc();
// ðŸ”µ Scroll al inicio suavemente
  window.scrollTo({
    top: 0,
    behavior: "smooth"
  });
}

function copiar() {
  const t = document.getElementById('resumenText').textContent.trim();
  if (!t) return;
  navigator.clipboard.writeText(t).then(() => {
    const b = document.getElementById('btnCopy');
    b.classList.add('copiado');
    b.textContent = 'Copiado';
    setTimeout(() => {
      b.classList.remove('copiado');
      b.textContent = 'Copiar resumen';
    }, 3000);
  });
}

document.querySelectorAll('select').forEach(s => s.addEventListener('change', calc));
document.getElementById('btnClear').addEventListener('click', borrar);
document.getElementById('btnCopy').addEventListener('click', copiar);
document.addEventListener('DOMContentLoaded', calc);
</script>
    <footer> <img src="../img/uibanner.png" alt="Ictus GPS">
    </footer>
    <script src="js/index.js"></script>
  </body>
</html>
